{"version":3,"file":"js/611.e1429cff.js","mappings":"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","sources":["webpack://storedown/./src/components/List.vue?f0db","webpack://storedown/src/components/List.vue","webpack://storedown/./src/components/List.vue?65f8","webpack://storedown/./src/components/List.vue","webpack://storedown/./src/views/List.vue?cf42","webpack://storedown/src/views/List.vue","webpack://storedown/./src/views/List.vue?0e06","webpack://storedown/./src/views/List.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"pagination\":_vm.pagination,\"items\":_vm.data.rows,\"loading\":_vm.loading,\"total-items\":_vm.data.total_rows,\"rows-per-page-items\":[10,50,100,1000]},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('ListColumnTypes',{attrs:{\"props\":props,\"headers\":_vm.headers,\"rowClick\":_vm.rowClick}})]}},{key:\"no-data\",fn:function(){return [_c('v-alert',{attrs:{\"value\":!_vm.loading,\"color\":\"error\"}},[_vm._v(\" No data was found. \")])]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-layout>\n  <v-flex xs12>\n    <v-data-table :headers=\"headers\" :pagination.sync=\"pagination\" :items=\"data.rows\" :loading=\"loading\" :total-items=\"data.total_rows\" :rows-per-page-items=\"[10,50,100,1000]\">\n      <template v-slot:items=\"props\">\n        <ListColumnTypes :props=\"props\" :headers=\"headers\" :rowClick=\"rowClick\" />\n      </template>\n\n      <template v-slot:no-data>\n        <v-alert :value=\"!loading\" color=\"error\">\n          No data was found.\n        </v-alert>\n      </template>\n    </v-data-table>\n  </v-flex>\n</v-layout>\n</template>\n\n<script>\nimport ListColumnTypes from '../components/ListColumnTypes'\n\nexport default {\n  components: {\n    ListColumnTypes\n  },\n  props: { // Example usage <List :headers=\"headers\" :loadData=\"loadData\" :rowClick=\"rowClick\" />\n    headers: Array,\n    rowClick: Function,\n    loadData: Function\n  },\n  watch: {\n    pagination: {\n      handler () {\n        this.getData()\n      },\n      deep: true\n    },\n    '$route' (to, from) {\n      this.getData()\n    }\n  },\n  data: () => ({\n    pagination: {},\n    loading: false,\n    data: {}\n  }),\n  // mounted () {\n  //   //Commented out. Pagination handler was calling getData\n  //   this.getData()\n  // },\n  methods: {\n    /**\n     * Calls loadData and handles pagination parameters and loading bar\n     */\n    getData: function () {\n      this.loading = true\n      this.data.rows = []\n      let start = (this.pagination.page - 1) * this.pagination.rowsPerPage\n\n      this.loadData(start, this.pagination.rowsPerPage).then((data) => {\n        this.data = data\n        this.loading = false\n      }).catch((error) => {\n        if (error.status === 404) {} else {\n          this.$toasted.info(`Error ${error}`)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=324ee1c8&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VDataTable,VFlex,VLayout})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-lg\":\"\",\"fluid\":\"\"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('h4',{staticClass:\"display-1\"},[_vm._v(\"Item list\")])])],1),_c('List',{attrs:{\"headers\":_vm.headers,\"loadData\":_vm.loadData,\"rowClick\":_vm.rowClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-container grid-list-lg fluid>\n  <v-layout>\n    <v-flex xs6>\n      <h4 class=\"display-1\">Item list</h4>\n    </v-flex>\n  </v-layout>\n  <!-- TODO QR code link generator -->\n  <List :headers=\"headers\" :loadData=\"loadData\" :rowClick=\"rowClick\" />\n</v-container>\n</template>\n\n<script>\nimport {\n  ConfigService\n} from '../services/Config.js'\nimport DatabaseService from '../services/Database.js'\nimport List from '../components/List'\n\nexport default {\n  components: {\n    List\n  },\n  data: () => ({\n    headers: []\n  }),\n  mounted () {\n    this.loadHeader()// Don't need to reload with route change\n  },\n  methods: {\n    /**\n     * Loads headers into this.headers\n     */\n    loadHeader: function () {\n      if (!DatabaseService()) {\n        return\n      }\n\n      // Get config and headers\n      ConfigService.getConfigObject().then((config) => {\n        config.dataDefinition.forEach((group) => {\n          group.fields.forEach((item) => {\n            if (item.hideInList) { return }\n\n            this.headers.push({\n              text: item.displayName,\n              value: item.name,\n              align: 'left',\n              item: item, // So you can access all the parameters. Above are given in the data table support format.\n              sortable: false\n            })\n          })\n        })\n      }).catch((error) => {\n        if (error.status === 404) {} else {\n          this.$toasted.info(`Error ${error}`)\n        }\n      })\n    },\n    /**\n     * Load data\n     * @param  {Number} [skip=0]    - start seek. Number of items to skip\n     * @param  {Number} [limit=100] - Number of items to pull\n     * @return {Promise}            - When resolved, return database data\n     */\n    loadData: function (skip = 0, limit = 100) {\n      return new Promise((resolve, reject) => {\n        if (!DatabaseService()) {\n          return reject(new Error('Database is not setup'))\n        }\n\n        // Get items\n        DatabaseService().getAllItems({ skip, limit }).then((data) => {\n          return resolve(data) // important we save an original copy. So we dont need to load it again. Espicially in tree view.\n        })\n      })\n    },\n    /**\n     * Hande logic for when a row is clicked\n     * @param  {[type]} props  [description]\n     */\n    rowClick: function (props) {\n      return this.$router.push(`/entry/${props.item._id}`)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=9d5c0484&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VFlex,VLayout})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","headers","pagination","data","rows","loading","total_rows","on","$event","scopedSlots","_u","key","fn","props","rowClick","_v","proxy","staticRenderFns","components","ListColumnTypes","Array","Function","loadData","watch","handler","getData","deep","to","from","methods","start","page","rowsPerPage","then","catch","error","status","$toasted","info","component","VAlert","staticClass","List","mounted","loadHeader","Database","Config","config","dataDefinition","forEach","group","fields","item","hideInList","push","text","displayName","value","name","align","sortable","skip","limit","Promise","resolve","reject","Error","getAllItems","$router","_id","VContainer"],"sourceRoot":""}