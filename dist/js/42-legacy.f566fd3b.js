"use strict";(self["webpackChunkstoredown"]=self["webpackChunkstoredown"]||[]).push([[42],{3630:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("h4",{staticClass:"display-1"},[e._v("Change feed")])])],1),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:e.headers,"hide-actions":"",items:e.items,loading:!0},scopedSlots:e._u([{key:"items",fn:function(t){return[a("ListColumnTypes",{attrs:{props:t,headers:e.headers,rowClick:e.rowClick}})]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"info"}},[e._v(" No changes detected yet ")])]},proxy:!0}])})],1)],1)],1)},n=[],r=a(8300),o=a(8955),i=a(8560),l={components:{ListColumnTypes:i.Z},data:()=>({DatabaseService:(0,o.Z)(),items:[],headers:[]}),mounted(){this.loadHeaders(),this.loadData()},methods:{loadHeaders:function(){(0,o.Z)()&&r.E.getConfigObject().then((e=>{e.dataDefinition.forEach((e=>{e.fields.forEach((e=>{e.hideInList||this.headers.push({text:e.displayName,value:e.name,align:"left",item:e,sortable:!1})}))}))})).catch((e=>{404===e.status||this.$toasted.info(`Error ${e}`)}))},loadData:function(){(0,o.Z)().getDatabase().changes({since:"now",live:!0,include_docs:!0}).on("change",(e=>{this.items.push(e.doc)})).on("error",(e=>{this.$toasted.error(`Error: ${e}`)}))},rowClick:function(e){return this.$router.push(`/entry/${e.item._id}`)}}},d=l,u=a(1001),c=a(3453),h=a.n(c),f=a(6965),p=a(6530),m=a(848),v=a(683),y=a(9456),g=(0,u.Z)(d,s,n,!1,null,null,null),C=g.exports;h()(g,{VAlert:f.Z,VContainer:p.Z,VDataTable:m.Z,VFlex:v.Z,VLayout:y.Z})}}]);
//# sourceMappingURL=42-legacy.f566fd3b.js.map