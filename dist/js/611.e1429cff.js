"use strict";(self["webpackChunkstoredown"]=self["webpackChunkstoredown"]||[]).push([[611],{4661:function(t,a,e){e.d(a,{Z:function(){return m}});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-layout",[e("v-flex",{attrs:{xs12:""}},[e("v-data-table",{attrs:{headers:t.headers,pagination:t.pagination,items:t.data.rows,loading:t.loading,"total-items":t.data.total_rows,"rows-per-page-items":[10,50,100,1e3]},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("ListColumnTypes",{attrs:{props:a,headers:t.headers,rowClick:t.rowClick}})]}},{key:"no-data",fn:function(){return[e("v-alert",{attrs:{value:!t.loading,color:"error"}},[t._v(" No data was found. ")])]},proxy:!0}])})],1)],1)},o=[],i=e(8560),r={components:{ListColumnTypes:i.Z},props:{headers:Array,rowClick:Function,loadData:Function},watch:{pagination:{handler(){this.getData()},deep:!0},$route(t,a){this.getData()}},data:()=>({pagination:{},loading:!1,data:{}}),methods:{getData:function(){this.loading=!0,this.data.rows=[];let t=(this.pagination.page-1)*this.pagination.rowsPerPage;this.loadData(t,this.pagination.rowsPerPage).then((t=>{this.data=t,this.loading=!1})).catch((t=>{404===t.status||this.$toasted.info(`Error ${t}`)}))}}},s=r,l=e(1001),d=e(3453),u=e.n(d),h=e(6965),c=e(848),p=e(683),f=e(9456),g=(0,l.Z)(s,n,o,!1,null,null,null),m=g.exports;u()(g,{VAlert:h.Z,VDataTable:c.Z,VFlex:p.Z,VLayout:f.Z})},2207:function(t,a,e){e.r(a),e.d(a,{default:function(){return w}});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[e("v-layout",[e("v-flex",{attrs:{xs6:""}},[e("h4",{staticClass:"display-1"},[t._v("Item list")])])],1),e("List",{attrs:{headers:t.headers,loadData:t.loadData,rowClick:t.rowClick}})],1)},o=[],i=e(8300),r=e(8955),s=e(4661),l={components:{List:s.Z},data:()=>({headers:[]}),mounted(){this.loadHeader()},methods:{loadHeader:function(){(0,r.Z)()&&i.E.getConfigObject().then((t=>{t.dataDefinition.forEach((t=>{t.fields.forEach((t=>{t.hideInList||this.headers.push({text:t.displayName,value:t.name,align:"left",item:t,sortable:!1})}))}))})).catch((t=>{404===t.status||this.$toasted.info(`Error ${t}`)}))},loadData:function(t=0,a=100){return new Promise(((e,n)=>{if(!(0,r.Z)())return n(new Error("Database is not setup"));(0,r.Z)().getAllItems({skip:t,limit:a}).then((t=>e(t)))}))},rowClick:function(t){return this.$router.push(`/entry/${t.item._id}`)}}},d=l,u=e(1001),h=e(3453),c=e.n(h),p=e(6530),f=e(683),g=e(9456),m=(0,u.Z)(d,n,o,!1,null,null,null),w=m.exports;c()(m,{VContainer:p.Z,VFlex:f.Z,VLayout:g.Z})}}]);
//# sourceMappingURL=611.e1429cff.js.map